
		SELECT MY_ID, BLACK_ID, BDATE
		FROM(SELECT ROW_NUMBER()OVER(ORDER BY BDATE) AS RNUM,
		MY_ID, BLACK_ID, BDATE
		FROM MESSAGE_BLACKLIST
		WHERE MY_ID='asdasd' AND BLACK_ID LIKE '%' || 'asdasd' || '%')
		 ) A
  		 WHERE RNUM BETWEEN 1 AND 5

  		 select * from member
  		 
SELECT MY_ID, BLACK_ID, BDATE
FROM (SELECT ROW_NUMBER()OVER(ORDER BY BDATE DESC) AS RNUM,
MY_ID, BLACK_ID, BDATE FROM MESSAGE_BLACKLIST WHERE MY_ID ='ASDASD' AND BLACK_ID LIKE '%' || 'ASD' || '%')A WHERE RNUM BETWEEN 1 AND 5
  		 
select * from member_auth

select * from member;

DROP TABLE TEAM_BBS
CASCADE CONSTRAINTS;

DROP SEQUENCE TEAM_BBS_SEQ;


insert into member
values('testid123', 'inwoo', '어딘가', 19990106, 01012345678, 'asdasd@naver.com', 0, 0, 0, 0, 165.0, 64.0, '123', 0, sysdate)

DROP TABLE MEMBER
CASCADE CONSTRAINTS;

select * from tab

select * from message_blacklist


CREATE TABLE MEMBER(
	ID 				VARCHAR2(50) PRIMARY KEY,
	NAME 			VARCHAR2(50) NOT NULL,
	ADDRESS 		VARCHAR2(100) NOT NULL,
	BIRTHDAY 		VARCHAR2(50) NOT NULL,
	PHONE	 		VARCHAR2(50) NOT NULL,
	EMAIL 			VARCHAR2(50) NOT NULL,
	NOW_MONEY 		NUMBER(20) NOT NULL,
	TOTAL_MONEY 	NUMBER(20) NOT NULL,
	NOW_POINT 		NUMBER(20) NOT NULL,
	TOTAL_POINT 	NUMBER(20) NOT NULL,
	HEIGHT 			NUMBER(4,1) NOT NULL,
	WEIGHT 			NUMBER(4,1) NOT NULL,
	TEAM_NAME 		VARCHAR2(100),
	REPORT_COUNT 	NUMBER(10) NOT NULL,
	REGIDATE 		DATE NOT NULL
)

CREATE TABLE TEAM_BBS(
    SEQ                NUMBER(10) PRIMARY KEY,
    ID                   VARCHAR2(50) NOT NULL,
    TEAM_NAME             VARCHAR2(100) NOT NULL,
    TITLE                VARCHAR2(500) NOT NULL,
    CONTENT             VARCHAR2(4000) NOT NULL,
    LIKE_COUNT             NUMBER(10) NOT NULL,
    REPORT_COUNT         NUMBER(10) NOT NULL,
    SUBJECT_CATEGORY       VARCHAR2(50) NOT NULL,
    READ_COUNT             NUMBER(10) NOT NULL,
    WDATE                DATE NOT NULL,
    FILE_NAME             VARCHAR2(1000),
    ORIGINAL_FILE_NAME       VARCHAR2(1000)
);

CREATE SEQUENCE TEAM_BBS_SEQ
START WITH 1
INCREMENT BY 1

SELECT NVL(COUNT(*), 0)
		FROM MEMBER
		WHERE ID NOT 'testid123'

insert into team_bbs
values(team_bbs_seq.nextval, 'testid123', 'teamname9', 'test1', 'content3',
1, 0, 'subCat3', 1, sysdate, 'fn3', 'ofn3')

SELECT * FROM MEMBER

alter table member
add(TEAM_NAME VARCHAR2(50))

alter table message
add(receive_del number(1))

select * from team_bbs
where id ='testid123'

SELECT SEQ, ID, TEAM_NAME, TITLE, CONTENT, LIKE_COUNT, REPORT_COUNT, SUBJECT_CATEGORY, READ_COUNT, WDATE, FILE_NAME, ORIGINAL_FILE_NAME
 	  FROM(SELECT ROW_NUMBER()OVER(ORDER BY SEQ DESC) AS RNUM, 
       SEQ, ID, TEAM_NAME, TITLE, CONTENT, LIKE_COUNT, REPORT_COUNT,  SUBJECT_CATEGORY, READ_COUNT, WDATE, FILE_NAME, ORIGINAL_FILE_NAME
       FROM TEAM_BBS
		WHERE ID='testid123'
		AND CONTENT LIKE '%con%') A
  		 WHERE RNUM BETWEEN 0 AND 10

CREATE TABLE OVERLAP(
   SEQ NUMBER(10) PRIMARY KEY,
   ID VARCHAR2(50) NOT NULL,
   BBS_LIKE NUMBER(10),
   BBS_COOMENT_LIKE NUMBER(10),
   MEMBER_REPORT NUMBER(10),
   BBS_REPORT NUMBER(10),
   BBS_COMMENT_REPORT NUMBER(10)
)
  		 
  		 
insert into overlap
values(16, 'testid123', 32, 0, 0, 0, 0)


select * from overlap  		

select * from team_bbs

select * from member
  		 
select * from team_bbs
where seq in (select bbs_like from overlap where id='testid123')		 


DROP TABLE BETTING
CASCADE CONSTRAINTS;

DROP SEQUENCE BET_SEQ;

bet_seq.nextval

CREATE TABLE BETTING(
   SEQ_BET NUMBER(10) PRIMARY KEY,
   SEQ_GAME NUMBER(10),
   ID VARCHAR2(50),
   TEAM_NAME VARCHAR2(100),
   BETTING_MONEY NUMBER(10),
   RDATE DATE
);

insert into betting
values(bet_seq.nextval, bet_seq.nextval, 'testid123', 'testid123', 24, sysdate)

select * from betting where id = 'testid123'

select * from betting

drop table betting

CREATE SEQUENCE BET_SEQ
START WITH 1
INCREMENT BY 1;

DROP TABLE GAME
CASCADE CONSTRAINTS;

DROP SEQUENCE GAME_SEQ;

CREATE TABLE GAME(
   SEQ_GAME NUMBER(10) PRIMARY KEY,
   CATEGORY VARCHAR2(50),
   NAME_TEAM1 VARCHAR2(50),
   NAME_TEAM2 VARCHAR2(50),
   GDATE VARCHAR2(50),
   NAME_STADIUM VARCHAR2(50),
   
   TITLE VARCHAR2(500),
   CONTENT VARCHAR2(2000),
   
   DEL NUMBER(1),
   PAYOUT_R1 NUMBER(5,2),
   PAYOUT_R2 NUMBER(5,2),
   SCORE1 NUMBER(10),
   SCORE2 NUMBER(10),
   GAME_RESULT VARCHAR2(50),
   
   LEAGUE VARCHAR2(50),
   READ_COUNT NUMBER(10),
   WDATE DATE
);

INSERT INTO GAME
VALUES(game_seq.nextval, '축구', 'team1ab', 'team2ab', 'gdateab', 'stadiumaab', 'title2b', 'content2b', 0, 0, 0, 0, 0, null, 'leagueab', 0, sysdate)

CREATE SEQUENCE GAME_SEQ
START WITH 26
INCREMENT BY 1;

drop game_seq

SELECT * FROM GAME

SELECT * FROM BETTING

CREATE SEQUENCE MESSAGE_SEQ
START WITH 1
INCREMENT BY 1;

CREATE TABLE MESSAGE(
	SEQ NUMBER(10) PRIMARY KEY,
	SEND_ID VARCHAR2(50) NOT NULL,
	RECEIVE_ID VARCHAR2(50) NOT NULL,
	CONTENT VARCHAR2(500) NOT NULL,
	READING NUMBER(1) NOT NULL,
	WDATE DATE NOT NULL,
	RDATE DATE,
	SEND_DEL NUMBER(1) NOT NULL,
	RECEIVE_DEL NUMBER(1) NOT NULL
)

drop table message

INSERT INTO

SELECT * FROM MESSAGE
DROP TABLE MESSAGE

select * from sms_mem
   5 testid123    $2a$10$r5AZlzl7JMxff/K6iRM28u31cEYID.xGNmiZjDhoNTFpaFdeZDDjO 2019-10-05 13:54:20.0

slee

INSERT INTO message
VALUES(message_seq.nextval, 'asdasd', 'testid123', '123a', 0, sysdate, null, 0, 1)

CREATE TABLE PROFIT(
	SEQ NUMBER PRIMARY KEY,
	ID VARCHAR2(50) NOT NULL,
	PDATE DATE NOT NULL,
	PROFIT_MONEY NUMBER NOT NULL
)

SELECT A.환전 날짜, B.환전 데이터, B.환전 데이터 ...
FROM PROFIT AS A, EXCHANGE AS B
WHERE seq = ?

CREATE SEQUENCE PROFIT_SEQ
START WITH 1
INCREMENT BY 1;

CREATE TABLE SPEND(
	SEQ NUMBER PRIMARY KEY,
	ID VARCHAR2(50) NOT NULL,
	SDATE DATE NOT NULL,
	SPEND_MONEY NUMBER NOT NULL
)

CREATE SEQUENCE SPEND_SEQ
START WITH 1
INCREMENT BY 1;

select * from profit
select * from spend

SELECT * FROM MEMBER_AUTH
	
SELECT * FROM TAB



CREATE SEQUENCE EXCHANGE_SEQ
START WITH 1
INCREMENT BY 1;

CREATE TABLE EXCHANGE(
	SEQ NUMBER(10) PRIMARY KEY,
	ID VARCHAR2(50) NOT NULL,
	BANK VARCHAR2(30) NOT NULL,
	BANKNUMBER VARCHAR2(100) NOT NULL,
	EXCHANGEMONEY NUMBER(30) NOT NULL,
	EXDATE VARCHAR2(30) NOT NULL,
	EXCHECK NUMBER(1) NOT NULL
)

select * from member

update MEMBER
set now_money = 50000
where id='testid123'
insert into exchange
values(90, 'testid123', '테스트은행', '123', 24, sysdate, 1)

drop table exchange

insert into exchange
values(exchange_seq.nextval, 'testid123', '테스트은행', '123-123-123', '1', sysdate, 1)


select * from exchange
       
update exchange
set ex_check = 1

drop table exchange
       
select * from message       
       
SELECT * FROM MEMBER
       
	update member
	set now_money = 35000
	where id = 'testid123'

      UPDATE MEMBER
      SET auth = 1
      where id='testid123'
       
		
      
      select * from member where id = 'testid123'
      update member
      set now_money = 500000
      where id ='testid123';
      
      create table inwoo_mem(
	seq number primary key,
	id varchar2(1000),
	pw varchar2(1000) not null,
	rdate date not null
)      
      
      
      drop table inwoo_mem
select * from member   
      
SELECT ID FROM MEMBER
		WHERE ID LIKE CONCAT('%', 'testid', '%')
		AND id not in('testid123')
		ORDER BY CHAR_LENGTH(id)
SELECT id 
	FROM rhy_mem_p
	WHERE ID LIKE CONCAT('%','test','%')
	AND id not in('testid123')
	ORDER BY CHAR_LENGTH(id)
	
	SELECT ID
	FROM MEMBER
	WHERE ID LIKE '%'||'ab'||'%'
	AND ID NOT IN('testid123')
	ORDER BY LENGTH(id)
	
	SELECT ID
		FROM MEMBER
		WHERE ID LIKE '%'||'tes'||'%'
		AND ID NOT IN('testid123'))
		ORDER BY LENGTH(id)

		UPDATE MESSAGE
		SET READING=1, RDATE=SYSDATE
		WHERE SEQ=23 AND READING=0
		
		select * from message
		
LIKE '%'||#{s_keyword}||'%'
      
CREATE TABLE inwoo_mem (
	SEQ BIGINT(20) NOT NULL AUTO_INCREMENT,
	ID VARCHAR(1000) NOT NULL COMMENT '아이디',
	PW VARCHAR(1000) NOT NULL COMMENT '비밀번호',
	isAccountNonExpired` VARCHAR(1000) NULL DEFAULT 'true' COMMENT '계정만료여부',
	isAccountNonLock` VARCHAR(1000) NULL DEFAULT 'true' COMMENT '계정잠금여부',
	isCredentialslsNonExpired` VARCHAR(1000) NULL DEFAULT 'true' COMMENT '자격만료여부',
	isEnabled` VARCHAR(1000) NULL DEFAULT 'true' COMMENT '사용가능여부',
	RDATE` DATETIME NOT NULL,
	PRIMARY KEY (`SEQ`),
	UNIQUE INDEX `UNIQUE_ID` (`ID`)
)

drop table member

CREATE TABLE MEMBER(
	ID VARCHAR2(50) PRIMARY KEY,
	NAME VARCHAR2(50) NOT NULL,
	ADDRESS VARCHAR2(100) NOT NULL,
	BIRTHDAY VARCHAR2(50) NOT NULL,
	PHONE VARCHAR2(50) NOT NULL,
	EMAIL VARCHAR2(50) NOT NULL,
	NOW_MONEY NUMBER(20) NOT NULL,
	TOTAL_MONEY NUMBER(20) NOT NULL,
	NOW_POINT NUMBER(20) NOT NULL,
	TOTAL_POINT NUMBER(20) NOT NULL,
	HEIGHT NUMBER(4,1) NOT NULL,
	WEIGHT NUMBER(3,1) NOT NULL,
	REPORT_COUNT NUMBER(10) NOT NULL,
	REGIDATE DATE NOT NULL
)

		INSERT INTO MEMBER(ID, NAME, ADDRESS, BIRTHDAY, PHONE, EMAIL, NOW_MONEY, TOTAL_MONEY, NOW_POINT, TOTAL_POINT, HEIGHT, WEIGHT, REPORT_COUNT,  REGIDATE)
		VALUES('test', 'test', 'testadd', 'tsetb', 'testpo', 'teema', 0, 0, 0, 0, 165.3, 63.5, 0, SYSDATE)
		
		insert into member
		values('test', 'test','testa', 'testb', 'testp', 'testma', 0, 0, 0, 0, 165.3, 63.5, 0, sysdate)

drop table member

alter table sms_mem add(enabled number(1))

select * from sms_mem
alter table sms_mem add(enabled number(1))
update SMS_MEM
set enabled = 1
where id = 'testid123'

select * from AUTHORITIES

update AUTHORITIES
set authority = 'ROLE_MEMBER'
where authority = 'ROLE_DELETE'
alter table sms_mem modify(enabled number(1) not null)

alter table message_blacklist modify(bdate date not null)

alter table message modify(content varchar2(1500))

select * from message_blacklist

update message_blacklist
set bdate = sysdate

SELECT * FROM AUTHORITIES
WHERE AUTHORITY = 'ROLE_DELETE'

drop table sms_mem

select * from authorities

create table authorities(
	seq number primary key,
	id varchar2(50) not null,
	authority varchar2(100) not null
);  

SELECT SEQ, ID, TEAM_NAME, CONTENT
		FROM (SELECT ROW_NUMBER()OVER(ORDER BY SEQ DESC) AS RNUM,
		SEQ, ID, TEAM_NAME, CONTENT
		FROM TEAM_APPLICATION
		WHERE ID='AB'
		) WHERE RNUM BETWEEN 1 AND 10
		
		
select * from sms_mem
select * from message
select * from team_application

insert into message_blacklist
values('testid123', 'ee');

INSERT INTO MESSAGE
		VALUES(MESSAGE_SEQ.NEXTVAL, 'blacktestid', 'testid123', '내용입니다~~', 0, SYSDATE, NULL, 0, 0)

		SELECT NVL(COUNT(*), 0)
		FROM MESSAGE_BLACKLIST
		WHERE 'blackid123'=(SELECT BLACK_ID FROM MESSAGE_BLACKLIST WHERE MY_ID='testid123')
		
		insert into message_blacklist
		values('testid123', 'blackid123')
		delete  message_blacklist
		where my_id = 'testid123'
		
		select * from message_blacklist
		
create table sms_mem(
	seq number primary key,
	id varchar2(200) not null,
	pw varchar2(400) not null,
	rdate date not null
);      

select * from sms_mem

create table message_blacklist(
	my_id varchar2(50) not null,
	black_id varchar2(50) not null,
	bdate date not null
)

drop table sms_mem;
drop table authorities;
drop table member;

create sequence sms_mem_seq
start with 1
increment by 1

select * from message

select * from member
select * from sms_mem
select * from authorities
select * from inwoo_mem

update sms_mem set pw='$2a$10$NN5VOGhKz/a52wF765DLFOPp5eCe1C.4jDgeLRJFRdZMvDzHbA.ym' where seq=6;

$2a$10$crJz4OXPyvjg3ynQkm/WdelZdGqzTEIBPQg90uO1g7l6eHn/zslhK
drop table sms_mem

update sms_mem
set pw = '$2a$10$0gQDLn4AgU4HgFDnfMCzQun44XvQZE3Gpr4nObK8w3bLuAlUoGQEa'
where seq=6

drop table authorities

insert into authorities
values(authorities_seq.nextval, 'testid1234', 'ROLE_MEMBER')

select * from authorities

select * frokm exchange

select * from EXCHANGE

insert into sms_mem
values(inwoo_mem_seq.nextval, 'testid123', '$2a$10$r5AZlzl7JMxff/K6iRM28u31cEYID.xGNmiZjDhoNTFpaFdeZDDjO', sysdate)

select * from sms_mem

select * from TEAM_APPLICATION

insert into TEAM_APPLICATION
values(1, 'testid123', 'teamName1', 'con1231231231241231234124123123124124123123on2')

update message
set send_del = 0

update message
set receive_del = 0

select * from message

update SMS_MEM
set pw = '$2a$10$jZ3dH5Lxbsi69VifaBGAi.dG0Ym.Y6jX3wzDdLIrNl7/0N5w/6FR.'

select * from message;
INSERT INTO MESSAGE
VALUES(MESSAGE_SEQ.NEXTVAL, 'messageid123', 'testid123', 'db에서 날리는쪽지 테스트', 0, SYSDATE, NULL)

UPDATE SMS_MEM SET PW='$2a$10$r5AZlzl7JMxff/K6iRM28u31cEYID.xGNmiZjDhoNTFpaFdeZDDjO' WHERE SEQ=4;

SELECT NVL(COUNT(*), 0)
		FROM MEMBER
		WHERE ID='asd15667'

select * from SMS_MEM
select * from AUTHORITIES

update AUTHORITIES
set authority = 'ROLE_MEMBER'
where id = 'testid123'

  		SELECT 
		  mem.id as userid, pw as userpw, enabled, authority
		FROM 
		  INWOO_MEM mem LEFT OUTER JOIN AUTHORITIES auth on mem.id = auth.id 
		 
      update inwoo_mem
      set pw = '$2a$10$ZYn6DxwuUiScnQb1nC8MVu5LCWcXGSbnV./cdcxc1.Pmvrsvmugaa'
      where id = 'testid1234'
      
      insert into inwoo_mem						   $2a$10$ZYn6DxwuUiScnQb1nC8MVu5LCWcXGSbnV./cdcxc1.Pmvrsvmugaa
      values(inwoo_mem_seq.nextval, 'testid1234', '$2a$10$9EAYjjWR/SPn6mhUT0UB3uTJaYAVQvyC0udJftvay31zlzEQZxmQS', sysdate)
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      
      SELECT * FROM MEMBER
--------MEMBER------
DROP TABLE MEMBER
CASCADE CONSTRAINTS;

CREATE TABLE MEMBER(
	ID 				VARCHAR2(50) PRIMARY KEY,
    PWD 			VARCHAR2(50) NOT NULL,
    NAME 			VARCHAR2(50) NOT NULL,
    ADDRESS 		VARCHAR2(100) NOT NULL,
    BIRTHDAY 		VARCHAR2(50) NOT NULL,
    PHONE 			VARCHAR2(50) NOT NULL,
    EMAIL 			VARCHAR2(50) NOT NULL,
    NOW_MONEY 		NUMBER(20) NOT NULL,
    TOTAL_MONEY 	NUMBER(20) NOT NULL,
    NOW_POINT 		NUMBER(20) NOT NULL,
    TOTAL_POINT 	NUMBER(20) NOT NULL,
    HEIGHT 			NUMBER(3, 1) NOT NULL,
    WEIGHT 			NUMBER(3, 1) NOT NULL,
    REPORT_COUNT 	NUMBER(10) NOT NULL,
    AUTH 			NUMBER(1) NOT NULL,
    REG_DATE 		DATE NOT NULL
);

------------시큐리티적용-----------------------------------------------------------

-------------MEMBER-----------------------

DROP TABLE MEMBER
CASCADE CONSTRAINTS;

CREATE TABLE MEMBER(
	ID 				VARCHAR2(50) PRIMARY KEY,
	NAME 			VARCHAR2(50) NOT NULL,
	ADDRESS 		VARCHAR2(100) NOT NULL,
	BIRTHDAY 		VARCHAR2(50) NOT NULL,
	PHONE	 		VARCHAR2(50) NOT NULL,
	EMAIL 			VARCHAR2(50) NOT NULL,
	NOW_MONEY 		NUMBER(20) NOT NULL,
	TOTAL_MONEY 	NUMBER(20) NOT NULL,
	NOW_POINT 		NUMBER(20) NOT NULL,
	TOTAL_POINT 	NUMBER(20) NOT NULL,
	HEIGHT 			NUMBER(4,1) NOT NULL,
	WEIGHT 			NUMBER(4,1) NOT NULL,
	TEAM_NAME 		VARCHAR2(100),
	REPORT_COUNT 	NUMBER(10) NOT NULL,
	REGIDATE 		DATE NOT NULL
)

SELECT * FROM MEMBER

INSERT INTO MEMBER
VALUES('admin','관리자','백암빌딩','19900101','01012345678','abc@naver.com',0,0,0,0,156.4,50.0,NULL,0,SYSDATE)
-------------SMS_MEM------------------
DROP TABLE SMS_MEM
CASCADE CONSTRAINTS;

DROP SEQUENCE SMS_MEM_SEQ;

CREATE TABLE SMS_MEM(
	SEQ 	NUMBER PRIMARY KEY,
	ID 		VARCHAR2(200) NOT NULL,
	PW 		VARCHAR2(400) NOT NULL,
	RDATE 	DATE NOT NULL
);

CREATE SEQUENCE SMS_MEM_SEQ
START WITH 1
INCREMENT BY 1
------------------AUTHORITIES------------------
DROP TABLE AUTHORITIES
CASCADE CONSTRAINTS;

DROP SEQUENCE AUTHORITIES_SEQ;

CREATE TABLE AUTHORITIES(
	SEQ 		NUMBER PRIMARY KEY,
	ID 			VARCHAR2(50) NOT NULL,
	AUTHORITY 	VARCHAR2(100) NOT NULL
);

CREATE SEQUENCE AUTHORITIES_SEQ
START WITH 1
INCREMENT BY 1

-----------------EXCHANGE--------------------
DROP TABLE EXCHANGE
CASCADE CONSTRAINTS;

DROP SEQUENCE EXCHANGE_SEQ;

CREATE TABLE EXCHANGE(
   SEQ 				NUMBER(10) PRIMARY KEY,
   ID 				VARCHAR2(50) NOT NULL,
   BANK 			VARCHAR2(30) NOT NULL,
   BANK_NUMBER 		VARCHAR2(100) NOT NULL,
   EXCHANGE_MONEY 	NUMBER(30) NOT NULL,
   EXDATE 			VARCHAR2(30) NOT NULL,
   EX_CHECK 			NUMBER(1) NOT NULL
);

CREATE SEQUENCE EXCHANGE_SEQ
START WITH 1
INCREMENT BY 1;


----------------PROFIT------------------------
DROP TABLE PROFIT
CASCADE CONSTRAINTS;

DROP SEQUENCE PROFIT_SEQ;

CREATE TABLE PROFIT(
   SEQ 				NUMBER PRIMARY KEY,
   ID 				VARCHAR2(50) NOT NULL,
   PDATE 			DATE NOT NULL,
   PROFIT_MONEY 	NUMBER NOT NULL
);

CREATE SEQUENCE PROFIT_SEQ
START WITH 1
INCREMENT BY 1;

------------------SPEND-----------------------
DROP TABLE SPEND
CASCADE CONSTRAINTS;

DROP SEQUENCE SPEND_SEQ;

CREATE TABLE SPEND(
   SEQ 				NUMBER PRIMARY KEY,		
   ID 				VARCHAR2(50) NOT NULL,
   SDATE 			DATE,
   SPEND_MONEY 		NUMBER NOT NULL
);

drop table spend

CREATE TABLE EXCHANGE(
	SEQ NUMBER(10) PRIMARY KEY,				1
	ID VARCHAR2(50) NOT NULL,
	BANK VARCHAR2(30) NOT NULL,
	BANKNUMBER VARCHAR2(100) NOT NULL,
	EXCHANGEMONEY NUMBER(30) NOT NULL,
	EXDATE VARCHAR2(30) NOT NULL,
	EXCHECK NUMBER(1) NOT NULL 0 -> 1
)

CREATE SEQUENCE SPEND_SEQ
START WITH 1
INCREMENT BY 1;

----------MESSAGE-------
DROP TABLE MESSAGE
CASCADE CONSTRAINTS;

DROP SEQUENCE MESSAGE_SEQ;

CREATE TABLE MESSAGE(
   SEQ 				NUMBER(10) PRIMARY KEY,
   SEND_ID 			VARCHAR2(50) NOT NULL,
   RECEIVE_ID 		VARCHAR2(50) NOT NULL,
   CONTENT 			VARCHAR2(500) NOT NULL,
   READING 			NUMBER(1) NOT NULL,
   WDATE 			DATE NOT NULL,
   RDATE 			DATE,
   SEND_DEL 		NUMBER(1) NOT NULL,
   RECEIVE_DEL 		NUMBER(1) NOT NULL
);


CREATE SEQUENCE MESSAGE_SEQ
START WITH 1
INCREMENT BY 1;

----------TEAM-------
DROP TABLE TEAM
CASCADE CONSTRAINTS;

CREATE TABLE TEAM(
	TEAM_NAME	VARCHAR2(100) NOT NULL,
	LEADER		VARCHAR2(50),
	MEMBER      VARCHAR2(50),
	MERCENARY   VARCHAR2(50)
);

----------TEAMDETAIL-------
DROP TABLE TEAM_DETAIL
CASCADE CONSTRAINTS;

CREATE TABLE TEAM_DETAIL(
	TEAM_NAME 			VARCHAR2(100) PRIMARY KEY,
	LEADER 				VARCHAR2(50) NOT NULL,
    TITLE 				VARCHAR2(500) NOT NULL,
    CONTENT 			VARCHAR2(2000) NOT NULL,
    LIKE_COUNT 			NUMBER(10) NOT NULL,
    DEADLINE 			NUMBER(1) NOT NULL,
    SOCCER_MMR 			NUMBER(10) NOT NULL,
    BASKETBALL_MMR 		NUMBER(10) NOT NULL,
    BASEBALL_MMR 		NUMBER(10) NOT NULL,
    BADMINTON_MMR 		NUMBER(10) NOT NULL,
    PINGPONG_MMR 		NUMBER(10) NOT NULL,
    REPORT_COUNT 		NUMBER(10) NOT NULL,
    FDATE 				DATE NOT NULL,
    SPORT_CATEGORY 		VARCHAR2(50) NOT NULL,
    FILE_NAME 			VARCHAR2(1000)
);

----------TEAMAPPLICATION-------
DROP TABLE TEAM_APPLICATION
CASCADE CONSTRAINTS;

DROP SEQUENCE TEAM_APPLICATION_SEQ;

CREATE TABLE TEAM_APPLICATION(
	SEQ 		NUMBER(10) PRIMARY KEY,
    ID 			VARCHAR2(50) NOT NULL,
    TEAM_NAME 	VARCHAR2(100) NOT NULL,
    CONTENT 	VARCHAR2(2000) NOT NULL
);

CREATE SEQUENCE TEAM_APPLICATION_SEQ
START WITH 1
INCREMENT BY 1;

----------RECRUITTEAM-------
DROP TABLE RECRUIT_TEAM
CASCADE CONSTRAINTS;

DROP SEQUENCE RECRUIT_TEAM_SEQ;

CREATE TABLE RECRUIT_TEAM(
   	SEQ				NUMBER(10) PRIMARY KEY,
    ID              VARCHAR2(50) NOT NULL,
    TEAM_NAME       VARCHAR2(100) NOT NULL,
    TITLE           VARCHAR2(500) NOT NULL,
    CONTENT       	VARCHAR2(2000) NOT NULL,
    WDATE          	DATE NOT NULL,
    DEL          	NUMBER(1) NOT NULL,
    READ_COUNT      NUMBER(10) NOT NULL
);

CREATE SEQUENCE RECRUIT_TEAM_SEQ
START WITH 1
INCREMENT BY 1;

----------TEAMBBS-------
DROP TABLE TEAM_BBS
CASCADE CONSTRAINTS;

DROP SEQUENCE TEAM_BBS_SEQ;

CREATE TABLE TEAM_BBS(
    SEQ 					NUMBER(10) PRIMARY KEY,
    ID 						VARCHAR2(50) NOT NULL,
    TEAM_NAME 				VARCHAR2(100) NOT NULL,
    TITLE 					VARCHAR2(500) NOT NULL,
    CONTENT 				CLOB,
    LIKE_COUNT 				NUMBER(10) NOT NULL,
    REPORT_COUNT			NUMBER(10) NOT NULL,
    SUBJECT_CATEGORY 		VARCHAR2(50) NOT NULL,
    READ_COUNT 				NUMBER(10) NOT NULL,
    WDATE 					DATE NOT NULL,
    FILE_NAME 				VARCHAR2(1000),
    ORIGINAL_FILE_NAME 		VARCHAR2(1000)
);

CREATE SEQUENCE TEAM_BBS_SEQ
START WITH 1
INCREMENT BY 1;

----------TEAMBBSCOMMENT-------
DROP TABLE TEAM_BBS_COMMENT
CASCADE CONSTRAINTS;

DROP SEQUENCE TEAM_BBS_COMMENT_SEQ;

CREATE TABLE TEAM_BBS_COMMENT(
   SEQ				NUMBER(10) PRIMARY KEY,
   ID             	VARCHAR2(50) NOT NULL,
   REPLY_ID      	VARCHAR2(50),
   CONTENT         	VARCHAR2(2000) NOT NULL,
   REF            	NUMBER(10) NOT NULL,
   STEP         	NUMBER(10) NOT NULL,
   DEPTS         	NUMBER(10) NOT NULL,
   PARENT         	NUMBER(10) NOT NULL,
   DEL            	NUMBER(1) NOT NULL,
   LIKE_COUNT      	NUMBER(10) NOT NULL,
   REPORT_COUNT   	NUMBER(10) NOT NULL,
   WDATE         	DATE
);

CREATE SEQUENCE TEAM_BBS_COMMENT_SEQ
START WITH 1
INCREMENT BY 1;

----------REPORT_BBS--------------
CREATE TABLE REPORT_BBS(
	SEQ 		NUMBER(10) PRIMARY KEY,
	ID 			VARCHAR2(50) NOT NULL,
	CONTENT 	VARCHAR2(2000) NOT NULL,
	PARENT 		NUMBER(10) NOT NULL
);

CREATE SEQUENCE REPORT_BBS_SEQ
START WITH 1
INCREMENT BY 1

DROP TABLE REPORT_BBS
CASCADE CONSTRAINTS;

DROP SEQUENCE REPORT_BBS_SEQ;

-------------REPORT_COMMENT----------------------

CREATE TABLE REPORT_COMMENT(
	SEQ 		NUMBER(10) PRIMARY KEY,
	ID 			VARCHAR2(50) NOT NULL,
	CONTENT 	VARCHAR2(2000) NOT NULL,
	PARENT 		NUMBER(10) NOT NULL
);

CREATE SEQUENCE REPORT_COMMENT_SEQ
START WITH 1
INCREMENT BY 1

DROP TABLE REPORT_COMMENT
CASCADE CONSTRAINTS;

DROP SEQUENCE REPORT_COMMENT_SEQ

----------GAME-------
DROP TABLE GAME
CASCADE CONSTRAINTS;

DROP SEQUENCE GAME_SEQ;

CREATE TABLE GAME(
	SEQ_GAME 		NUMBER(10) PRIMARY KEY,
    CATEGORY 		VARCHAR2(50),
    NAME_TEAM1 		VARCHAR2(50),
    NAME_TEAM2 		VARCHAR2(50),
    GDATE 			VARCHAR2(50),
    NAME_STADIUM	VARCHAR2(50),
    TITLE 			VARCHAR2(500),
    CONTENT 		VARCHAR2(2000),
    DEL 			NUMBER(1),
    PAYOUT_R1 		NUMBER(5,2),
    PAYOUT_R2 		NUMBER(5,2),
    SCORE1 			NUMBER(10),
    SCORE2 			NUMBER(10),
    GAME_RESULT 	VARCHAR2(50),
    LEAGUE 			VARCHAR2(50),
    READ_COUNT		NUMBER(10),
    WDATE 			DATE 
);



CREATE SEQUENCE GAME_SEQ
START WITH 1
INCREMENT BY 1;

----------GAMEMATCH-------
DROP TABLE GAME_MATCH
CASCADE CONSTRAINTS;

DROP SEQUENCE GAME_MATCH_SEQ;

CREATE TABLE GAME_MATCH(
   SEQ_GAMEMATCH 		NUMBER(10) PRIMARY KEY,
   SEQ_GAME 			NUMBER(10),
   ID 					VARCHAR2(50),
   TEAM_NAME 			VARCHAR2(100),
   MESSAGE 				VARCHAR2(1000),
   WDATE DATE
);

CREATE SEQUENCE GAME_MATCH_SEQ
START WITH 1
INCREMENT BY 1;


----------BETTING-------
DROP TABLE BETTING
CASCADE CONSTRAINTS;

DROP SEQUENCE BETTING_SEQ;

CREATE TABLE BETTING(
   SEQ_BET 			NUMBER(10) PRIMARY KEY,
   SEQ_GAME 		NUMBER(10),
   ID 				VARCHAR2(50),
   TEAM_NAME 		VARCHAR2(100),
   BETTING_MONEY 	NUMBER(10),
   RDATE 			DATE
);

CREATE SEQUENCE BETTING_SEQ
START WITH 1
INCREMENT BY 1;

----------BOOKING-------
DROP TABLE BOOKING
CASCADE CONSTRAINTS;

DROP SEQUENCE BOOKING_SEQ;

CREATE TABLE BOOKING(
   SEQ_BOOK 		NUMBER(10) PRIMARY KEY,
   SEQ_GAME 		NUMBER(10),
   ID 				VARCHAR2(50),
   BDATE 			VARCHAR2(50),
   PRICE 			NUMBER(10),
   POINT 			NUMBER(10),
   NAME_STADIUM 	VARCHAR2(50),
   BOOK_TIME 		VARCHAR2(10),
   WDATE 			DATE
);

CREATE SEQUENCE BOOKING_SEQ
START WITH 1
INCREMENT BY 1;

----------STADIUM-------
DROP TABLE STADIUM
CASCADE CONSTRAINTS;

DROP SEQUENCE STADIUM_SEQ;

CREATE TABLE STADIUM(
    SEQ_STADIUM 	NUMBER(10) PRIMARY KEY,
    NAME_STADIUM 	VARCHAR2(50),
    PRICE 			NUMBER(10)
);


CREATE SEQUENCE STADIUM_SEQ
START WITH 1
INCREMENT BY 1;

----------NOTICE-------
DROP TABLE NOTICE
CASCADE CONSTRAINTS;

DROP SEQUENCE NOTICE_SEQ;

CREATE TABLE NOTICE(
   SEQ 				NUMBER(10) PRIMARY KEY,
   ID 				VARCHAR2(50) NOT NULL,
   TITLE 			VARCHAR2(50) NOT NULL,
   CONTENT 			CLOB NOT NULL,
   WDATE 			DATE NOT NULL,
   READ_COUNT 		NUMBER(10) NOT NULL,
   FILE_ON 			VARCHAR2(20) NOT NULL
);

CREATE SEQUENCE NOTICE_SEQ
START WITH 1
INCREMENT BY 1;

-------------NOTICE_FILE-------------
DROP TABLE NOTICE_FILE
CASCADE CONSTRAINTS;

DROP SEQUENCE NOTICE_SEQ;

CREATE TABLE NOTICE_FILE(
   FILE_SEQ 			NUMBER(10) PRIMARY KEY,
   SEQ 					NUMBER(10) NOT NULL,
   UPLOADNAME 			VARCHAR2(500) NOT NULL,
   ORIGINALNAME 		VARCHAR2(500) NOT NULL,
   DOWN_COUNT 			NUMBER(10) NOT NULL
);

CREATE SEQUENCE NOTICE_FILE_SEQ
START WITH 1
INCREMENT BY 1;

ALTER TABLE NOTICE_FILE ADD CONSTRAINT NOTICE_FILE_FK 
FOREIGN KEY(SEQ)
REFERENCES NOTICE(SEQ)

----------CHAT-------
DROP TABLE CHAT
CASCADE CONSTRAINTS;

DROP SEQUENCE CHAT_SEQ;

CREATE TABLE CHAT(
    SEQ 			NUMBER(10) PRIMARY KEY,
    NAME 			VARCHAR2(50),
    PWD 			VARCHAR2(50),
    TOTALCOUNT 		NUMBER(10),
    REMINCOUNT 		NUMBER(10),
    CONTENT 		VARCHAR2(50)
);

CREATE SEQUENCE CHAT_SEQ
START WITH 1
INCREMENT BY 1;

----------CHAT_MEMBER-------
DROP TABLE CHAT_MEMBER
CASCADE CONSTRAINTS;

DROP SEQUENCE CHAT_MEMBER_SEQ;

CREATE TABLE CHAT_MEMBER(
    SEQ 		NUMBER(10) PRIMARY KEY,
    ID 			VARCHAR2(50),
    ROOM 		VARCHAR2(50),
    PRIROOM 	VARCHAR2(50)
);

CREATE SEQUENCE CHAT_MEMBER_SEQ
START WITH 1
INCREMENT BY 1;

----------LEAGUEMATCH-------
DROP TABLE LEAGUEMATCH
CASCADE CONSTRAINTS;

DROP SEQUENCE LEAGUE_MATCH_SEQ;

CREATE TABLE LEAGUE_MATCH(
    SEQ 		NUMBER(10) PRIMARY KEY,
    TEAM_NAME 	VARCHAR2(100) NOT NULL,
    LEADER_ID 	VARCHAR2(50) NOT NULL
);

CREATE SEQUENCE LEAGUE_MATCH_SEQ
START WITH 1
INCREMENT BY 1;


----------OVERLAP-------
DROP TABLE OVERLAP
CASCADE CONSTRAINTS;

DROP SEQUENCE OVERLAP_SEQ;

CREATE TABLE OVERLAP(
   SEQ 					NUMBER(10) PRIMARY KEY,
   ID 					VARCHAR2(50) NOT NULL,
   BBS_LIKE 			NUMBER(10),
   BBS_COOMENT_LIKE 	NUMBER(10),
   MEMBER_REPORT 		NUMBER(10),
   BBS_REPORT 			NUMBER(10),
   BBS_COMMENT_REPORT 	NUMBER(10)
);

CREATE SEQUENCE OVERLAP_SEQ
START WITH 1
INCREMENT BY 1;






























		SELECT SEQ, SEND_ID, RECEIVE_ID, CONTENT, READING, WDATE, RDATE, SEND_DEL, RECEIVE_DEL
		FROM(SELECT ROW_NUMBER()OVER(ORDER BY SEQ DESC) AS RNUM, 
		SEQ, SEND_ID, RECEIVE_ID, CONTENT, READING, WDATE, RDATE, SEND_DEL, RECEIVE_DEL
		FROM MESSAGE
		WHERE SEND_ID=#{id} AND SEND_DEL=0
		
		  	<if test="s_category == 'contents'">
		  		AND CONTENT LIKE '%'||#{s_keyword}||'%'
		  	</if>
		  	<if test="s_category == 'writer'">
		  		AND RECEIVE_ID LIKE '%'||#{s_keyword}||'%'
		  	</if>
		 ) A
  		 WHERE RNUM BETWEEN ${start} AND ${end
select b.b_id,b.reporter,b.content,b.rdate,s.blackcount
from rhy_used_blacklist b, rhy_used_seller s
where s.s_id = b.b_id


select a.b_id,a.reporter,a.content,a.rdate,s.blackcount
from(select row_number()over(order by b.rdate desc) as rnum,
b.b_id,b.reporter,b.content,b.rdate,s.blackcount
from rhy_used_blacklist b, rhy_used_seller s
where s.s_id=b.b_id and b.review='N') a
where rnum between 1 and 10

update MEMBER
set total_point = 50000


SELECT seq,b_id,reporter,content,rdate,rr
FROM ( SELECT ROW_NUMBER()OVER( ORDER BY RDATE DESC) AS RNUM,
            seq,b_id,reporter,content,rdate,( select s.blackcount from rhy_used_blacklist b, rhy_used_seller s where b.b_id=s.s_id ) as rr
       FROM rhy_used_blacklist
       WHERE 1=1 AND REVIEW='N'
                                 ) A
WHERE RNUM BETWEEN 1 AND 10
ORDER BY RDATE DESC

select * from message_blacklist














































SELECT * FROM MEMBER


------------시큐리티적용-----------------------------------------------------------

-------------MEMBER-----------------------

DROP TABLE MEMBER
CASCADE CONSTRAINTS;

CREATE TABLE MEMBER(
	ID 				VARCHAR2(50) PRIMARY KEY,
	NAME 			VARCHAR2(50) NOT NULL,
	ADDRESS 		VARCHAR2(100) NOT NULL,
	BIRTHDAY 		VARCHAR2(50) NOT NULL,
	PHONE	 		VARCHAR2(50) NOT NULL,
	EMAIL 			VARCHAR2(50) NOT NULL,
	NOW_MONEY 		NUMBER(20) NOT NULL,
	TOTAL_MONEY 	NUMBER(20) NOT NULL,
	NOW_POINT 		NUMBER(20) NOT NULL,
	TOTAL_POINT 	NUMBER(20) NOT NULL,
	HEIGHT 			NUMBER(4,1) NOT NULL,
	WEIGHT 			NUMBER(4,1) NOT NULL,
	TEAM_NAME 		VARCHAR2(100),
	REPORT_COUNT 	NUMBER(10) NOT NULL,
	REGIDATE 		DATE NOT NULL
)

SELECT * FROM MEMBER

INSERT INTO MEMBER
VALUES('admin','관리자','백암빌딩','19900101','01012345678','abc@naver.com',0,0,0,0,156.4,50.0,NULL,0,SYSDATE)


-------------SMS_MEM------------------
DROP TABLE SMS_MEM
CASCADE CONSTRAINTS;

DROP SEQUENCE SMS_MEM_SEQ;

CREATE TABLE SMS_MEM(
	SEQ 	NUMBER PRIMARY KEY,
	ID 		VARCHAR2(200) NOT NULL,
	PW 		VARCHAR2(400) NOT NULL,
	RDATE 	DATE NOT NULL,
	ENABLED NUMBER(1) NOT NULL
);

alter table sms_mem add(enabled number(1))

update SMS_MEM
set enabled = 1

CREATE SEQUENCE SMS_MEM_SEQ
START WITH 1
INCREMENT BY 1


------------------AUTHORITIES------------------
DROP TABLE AUTHORITIES
CASCADE CONSTRAINTS;

DROP SEQUENCE AUTHORITIES_SEQ;

CREATE TABLE AUTHORITIES(
	SEQ 		NUMBER PRIMARY KEY,
	ID 			VARCHAR2(50) NOT NULL,
	AUTHORITY 	VARCHAR2(100) NOT NULL
);

CREATE SEQUENCE AUTHORITIES_SEQ
START WITH 1
INCREMENT BY 1



-----------------EXCHANGE--------------------
DROP TABLE EXCHANGE
CASCADE CONSTRAINTS;

DROP SEQUENCE EXCHANGE_SEQ;

CREATE TABLE EXCHANGE(
   SEQ 				NUMBER(10) PRIMARY KEY,
   ID 				VARCHAR2(50) NOT NULL,
   BANK 			VARCHAR2(30) NOT NULL,
   BANK_NUMBER 		VARCHAR2(100) NOT NULL,
   EXCHANGE_MONEY 	NUMBER(30) NOT NULL,
   EXDATE 			VARCHAR2(30) NOT NULL,
   EX_CHECK 			NUMBER(1) NOT NULL
);

CREATE SEQUENCE EXCHANGE_SEQ
START WITH 1
INCREMENT BY 1;



----------------PROFIT------------------------
DROP TABLE PROFIT
CASCADE CONSTRAINTS;

DROP SEQUENCE PROFIT_SEQ;

CREATE TABLE PROFIT(
   SEQ 				NUMBER PRIMARY KEY,
   ID 				VARCHAR2(50) NOT NULL,
   PDATE 			DATE NOT NULL,
   PROFIT_MONEY 	NUMBER NOT NULL
);

CREATE SEQUENCE PROFIT_SEQ
START WITH 1
INCREMENT BY 1;



------------------SPEND-----------------------
DROP TABLE SPEND
CASCADE CONSTRAINTS;

DROP SEQUENCE SPEND_SEQ;

CREATE TABLE SPEND(
   SEQ 				NUMBER PRIMARY KEY,
   ID 				VARCHAR2(50) NOT NULL,
   SDATE 			DATE,
   SPEND_MONEY 		NUMBER NOT NULL
);

CREATE SEQUENCE SPEND_SEQ
START WITH 1
INCREMENT BY 1;



----------MESSAGE-------
DROP TABLE MESSAGE
CASCADE CONSTRAINTS;

DROP SEQUENCE MESSAGE_SEQ;

CREATE TABLE MESSAGE(
   SEQ 				NUMBER(10) PRIMARY KEY,
   SEND_ID 			VARCHAR2(50) NOT NULL,
   RECEIVE_ID 		VARCHAR2(50) NOT NULL,
   CONTENT 			VARCHAR2(500) NOT NULL,
   READING 			NUMBER(1) NOT NULL,
   WDATE 			DATE NOT NULL,
   RDATE 			DATE,
   SEND_DEL 		NUMBER(1) NOT NULL,
   RECEIVE_DEL 		NUMBER(1) NOT NULL
);

CREATE SEQUENCE MESSAGE_SEQ
START WITH 1
INCREMENT BY 1;




----------TEAM-------
DROP TABLE TEAM
CASCADE CONSTRAINTS;

CREATE TABLE TEAM(
	TEAM_NAME	VARCHAR2(100) NOT NULL,
	LEADER		VARCHAR2(50),
	MEMBER      VARCHAR2(50),
	MERCENARY   VARCHAR2(50)
);



----------TEAMDETAIL-------
DROP TABLE TEAM_DETAIL
CASCADE CONSTRAINTS;

CREATE TABLE TEAM_DETAIL(
	TEAM_NAME 			VARCHAR2(100) PRIMARY KEY,
	LEADER 				VARCHAR2(50) NOT NULL,
    TITLE 				VARCHAR2(500) NOT NULL,
    CONTENT 			VARCHAR2(2000) NOT NULL,
    LIKE_COUNT 			NUMBER(10) NOT NULL,
    DEADLINE 			NUMBER(1) NOT NULL,
    SOCCER_MMR 			NUMBER(10) NOT NULL,
    BASKETBALL_MMR 		NUMBER(10) NOT NULL,
    BASEBALL_MMR 		NUMBER(10) NOT NULL,
    BADMINTON_MMR 		NUMBER(10) NOT NULL,
    PINGPONG_MMR 		NUMBER(10) NOT NULL,
    REPORT_COUNT 		NUMBER(10) NOT NULL,
    FDATE 				DATE NOT NULL,
    SPORT_CATEGORY 		VARCHAR2(50) NOT NULL,
    FILE_NAME 			VARCHAR2(1000)
);



----------TEAMAPPLICATION-------
DROP TABLE TEAM_APPLICATION
CASCADE CONSTRAINTS;

DROP SEQUENCE TEAM_APPLICATION_SEQ;

CREATE TABLE TEAM_APPLICATION(
	SEQ 		NUMBER(10) PRIMARY KEY,
    ID 			VARCHAR2(50) NOT NULL,
    TEAM_NAME 	VARCHAR2(100) NOT NULL,
    CONTENT 	VARCHAR2(2000) NOT NULL
);

CREATE SEQUENCE TEAM_APPLICATION_SEQ
START WITH 1
INCREMENT BY 1;




----------RECRUITTEAM-------
DROP TABLE RECRUIT_TEAM
CASCADE CONSTRAINTS;

DROP SEQUENCE RECRUIT_TEAM_SEQ;

CREATE TABLE RECRUIT_TEAM(
   	SEQ				NUMBER(10) PRIMARY KEY,
    ID              VARCHAR2(50) NOT NULL,
    TEAM_NAME       VARCHAR2(100) NOT NULL,
    TITLE           VARCHAR2(500) NOT NULL,
    CONTENT       	VARCHAR2(2000) NOT NULL,
    WDATE          	DATE NOT NULL,
    DEL          	NUMBER(1) NOT NULL,
    READ_COUNT      NUMBER(10) NOT NULL
);

CREATE SEQUENCE RECRUIT_TEAM_SEQ
START WITH 1
INCREMENT BY 1;



----------TEAMBBS-------
DROP TABLE TEAM_BBS
CASCADE CONSTRAINTS;

DROP SEQUENCE TEAM_BBS_SEQ;

CREATE TABLE TEAM_BBS(
    SEQ 					NUMBER(10) PRIMARY KEY,
    ID 						VARCHAR2(50) NOT NULL,
    TEAM_NAME 				VARCHAR2(100) NOT NULL,
    TITLE 					VARCHAR2(500) NOT NULL,
    CONTENT 				CLOB,
    LIKE_COUNT 				NUMBER(10) NOT NULL,
    REPORT_COUNT			NUMBER(10) NOT NULL,
    SUBJECT_CATEGORY 		VARCHAR2(50) NOT NULL,
    READ_COUNT 				NUMBER(10) NOT NULL,
    WDATE 					DATE NOT NULL,
    FILE_NAME 				VARCHAR2(1000),
    ORIGINAL_FILE_NAME 		VARCHAR2(1000)
);

CREATE SEQUENCE TEAM_BBS_SEQ
START WITH 1
INCREMENT BY 1;




----------TEAMBBSCOMMENT-------
DROP TABLE TEAM_BBS_COMMENT
CASCADE CONSTRAINTS;

DROP SEQUENCE TEAM_BBS_COMMENT_SEQ;

CREATE TABLE TEAM_BBS_COMMENT(
   SEQ				NUMBER(10) PRIMARY KEY,
   ID             	VARCHAR2(50) NOT NULL,
   REPLY_ID      	VARCHAR2(50),
   CONTENT         	VARCHAR2(2000) NOT NULL,
   REF            	NUMBER(10) NOT NULL,
   STEP         	NUMBER(10) NOT NULL,
   DEPTS         	NUMBER(10) NOT NULL,
   PARENT         	NUMBER(10) NOT NULL,
   DEL            	NUMBER(1) NOT NULL,
   LIKE_COUNT      	NUMBER(10) NOT NULL,
   REPORT_COUNT   	NUMBER(10) NOT NULL,
   WDATE         	DATE
);

CREATE SEQUENCE TEAM_BBS_COMMENT_SEQ
START WITH 1
INCREMENT BY 1;




----------REPORT_BBS--------------
CREATE TABLE REPORT_BBS(
	SEQ 		NUMBER(10) PRIMARY KEY,
	ID 			VARCHAR2(50) NOT NULL,
	CONTENT 	VARCHAR2(2000) NOT NULL,
	PARENT 		NUMBER(10) NOT NULL
);

CREATE SEQUENCE REPORT_BBS_SEQ
START WITH 1
INCREMENT BY 1

DROP TABLE REPORT_BBS
CASCADE CONSTRAINTS;

DROP SEQUENCE REPORT_BBS_SEQ;




-------------REPORT_COMMENT----------------------

CREATE TABLE REPORT_COMMENT(
	SEQ 		NUMBER(10) PRIMARY KEY,
	ID 			VARCHAR2(50) NOT NULL,
	CONTENT 	VARCHAR2(2000) NOT NULL,
	PARENT 		NUMBER(10) NOT NULL
);

CREATE SEQUENCE REPORT_COMMENT_SEQ
START WITH 1
INCREMENT BY 1

DROP TABLE REPORT_COMMENT
CASCADE CONSTRAINTS;

DROP SEQUENCE REPORT_COMMENT_SEQ




----------GAME-------
DROP TABLE GAME
CASCADE CONSTRAINTS;

DROP SEQUENCE GAME_SEQ;

CREATE TABLE GAME(
	SEQ_GAME 		NUMBER(10) PRIMARY KEY,
    CATEGORY 		VARCHAR2(50),
    NAME_TEAM1 		VARCHAR2(50),
    NAME_TEAM2 		VARCHAR2(50),
    GDATE 			VARCHAR2(50),
    NAME_STADIUM	VARCHAR2(50),
    TITLE 			VARCHAR2(500),
    CONTENT 		VARCHAR2(2000),
    DEL 			NUMBER(1),
    PAYOUT_R1 		NUMBER(5,2),
    PAYOUT_R2 		NUMBER(5,2),
    SCORE1 			NUMBER(10),
    SCORE2 			NUMBER(10),
    GAME_RESULT 	VARCHAR2(50),
    LEAGUE 			VARCHAR2(50),
    READ_COUNT		NUMBER(10),
    WDATE 			DATE 
);


CREATE SEQUENCE GAME_SEQ
START WITH 1
INCREMENT BY 1;




----------GAMEMATCH-------
DROP TABLE GAME_MATCH
CASCADE CONSTRAINTS;

DROP SEQUENCE GAME_MATCH_SEQ;

CREATE TABLE GAME_MATCH(
   SEQ_GAMEMATCH 		NUMBER(10) PRIMARY KEY,
   SEQ_GAME 			NUMBER(10),
   ID 					VARCHAR2(50),
   NAME_TEAM2			VARCHAR2(100),
   MESSAGE 				VARCHAR2(1000),
   WDATE DATE
);

CREATE SEQUENCE GAME_MATCH_SEQ
START WITH 1
INCREMENT BY 1;




----------BETTING-------
DROP TABLE BETTING
CASCADE CONSTRAINTS;

DROP SEQUENCE BETTING_SEQ;

CREATE TABLE BETTING(
   SEQ_BET 			NUMBER(10) PRIMARY KEY,
   SEQ_GAME 		NUMBER(10),
   ID 				VARCHAR2(50),
   TEAM_NAME 		VARCHAR2(100),
   BETTING_MONEY 	NUMBER(10),
   RDATE 			DATE
);

CREATE SEQUENCE BET_SEQ
START WITH 1
INCREMENT BY 1;




----------BOOKING-------
DROP TABLE BOOKING
CASCADE CONSTRAINTS;

DROP SEQUENCE BOOKING_SEQ;

CREATE TABLE BOOKING(
   SEQ_BOOK 		NUMBER(10) PRIMARY KEY,
   SEQ_GAME 		NUMBER(10),
   ID 				VARCHAR2(50),
   BDATE 			VARCHAR2(50),
   PRICE 			NUMBER(10),
   POINT 			NUMBER(10),
   NAME_STADIUM 	VARCHAR2(50),
   BOOK_TIME 		VARCHAR2(10),
   WDATE 			DATE
);

CREATE SEQUENCE BOOKING_SEQ
START WITH 1
INCREMENT BY 1;





----------STADIUM-------
DROP TABLE STADIUM
CASCADE CONSTRAINTS;

DROP SEQUENCE STADIUM_SEQ;

CREATE TABLE STADIUM(
    SEQ_STADIUM 	NUMBER(10) PRIMARY KEY,
    NAME_STADIUM 	VARCHAR2(50),
    PRICE 			NUMBER(10)
);


CREATE SEQUENCE STADIUM_SEQ
START WITH 1
INCREMENT BY 1;





----------NOTICE-------
DROP TABLE NOTICE
CASCADE CONSTRAINTS;

DROP SEQUENCE NOTICE_SEQ;

CREATE TABLE NOTICE(
   SEQ 				NUMBER(10) PRIMARY KEY,
   ID 				VARCHAR2(50) NOT NULL,
   TITLE 			VARCHAR2(50) NOT NULL,
   CONTENT 			CLOB NOT NULL,
   WDATE 			DATE NOT NULL,
   READ_COUNT 		NUMBER(10) NOT NULL,
   FILE_ON 			VARCHAR2(20) NOT NULL
);

CREATE SEQUENCE NOTICE_SEQ
START WITH 1
INCREMENT BY 1;





-------------NOTICE_FILE-------------
DROP TABLE NOTICE_FILE
CASCADE CONSTRAINTS;

DROP SEQUENCE NOTICE_SEQ;

CREATE TABLE NOTICE_FILE(
   FILE_SEQ 			NUMBER(10) PRIMARY KEY,
   SEQ 					NUMBER(10) NOT NULL,
   UPLOADNAME 			VARCHAR2(500) NOT NULL,
   ORIGINALNAME 		VARCHAR2(500) NOT NULL,
   DOWN_COUNT 			NUMBER(10) NOT NULL
);

CREATE SEQUENCE NOTICE_FILE_SEQ
START WITH 1
INCREMENT BY 1;

ALTER TABLE NOTICE_FILE ADD CONSTRAINT NOTICE_FILE_FK 
FOREIGN KEY(SEQ)
REFERENCES NOTICE(SEQ)




----------NO_CHAT-------
DROP TABLE NO_CHAT
CASCADE CONSTRAINTS;


CREATE TABLE NO_CHAT(
    ID	 			VARCHAR2(50),
    NOW_STATUS		NUMBER(1),
    NO_COUNT 		NUMBER(10)
);




----------LEAGUEMATCH-------
DROP TABLE LEAGUEMATCH
CASCADE CONSTRAINTS;

DROP SEQUENCE LEAGUE_MATCH_SEQ;

CREATE TABLE LEAGUE_MATCH(
    SEQ 		NUMBER(10) PRIMARY KEY,
    TEAM_NAME 	VARCHAR2(100) NOT NULL,
    LEADER_ID 	VARCHAR2(50) NOT NULL
);

CREATE SEQUENCE LEAGUE_MATCH_SEQ
START WITH 1
INCREMENT BY 1;




----------OVERLAP-------
DROP TABLE OVERLAP
CASCADE CONSTRAINTS;

DROP SEQUENCE OVERLAP_SEQ;

CREATE TABLE OVERLAP(
   SEQ 						NUMBER(10) PRIMARY KEY,
   ID 						VARCHAR2(50) NOT NULL,
   BBS_LIKE 				NUMBER(10),
   BBS_COOMENT_LIKE 		NUMBER(10),
   MEMBER_REPORT 			NUMBER(10),
   BBS_REPORT 				NUMBER(10),
   BBS_COMMENT_REPORT 		NUMBER(10),
   BBS_COUNT				NUMBER(10),
   TEAM_LIKE				VARCHAR2(100),
   TEAM_REPORT				VARCHAR2(100),
   VIDEO_LIKE 				NUMBER(10),
   VIDEO_COMMENT_LIKE 		NUMBER(10),
   VIDEO_REPORT 			NUMBER(10),
   VIDEO_COMMENT_REPORT 	NUMBER(10)
);

CREATE SEQUENCE OVERLAP_SEQ
START WITH 1
INCREMENT BY 1;




----------VIDEO-------

DROP TABLE VIDEO
CASCADE CONSTRAINTS;

DROP SEQUENCE VIDEO_SEQ

CREATE TABLE VIDEO(
	SEQ_VIDEO 		NUMBER(10) PRIMARY KEY,
	CATEGORY 		VARCHAR2(100),
	ID 				VARCHAR2(50),
	TITLE 			VARCHAR2(1000),
	CONTENT 		VARCHAR2(4000),
	LIKE_COUNT 		NUMBER(10),
	READ_COUNT 		NUMBER(10),
	REPORT_COUNT	NUMBER(10),
	FILE_NAME 		VARCHAR2(1000),
	DEL				NUMBER(1),
	WDATE 			DATE
);

CREATE SEQUENCE VIDEO_SEQ
START WITH 1
INCREMENT BY 1;




----------VIDEO_COMMENT-------

DROP TABLE VIDEO_COMMENT
CASCADE CONSTRAINTS;

DROP SEQUENCE VIDEO_COMMENT_SEQ

CREATE TABLE VIDEO_COMMENT(
	SEQ 			NUMBER(10) PRIMARY KEY,
	ID 				VARCHAR2(50),
	CONTENT			VARCHAR2(2000),
	REF				NUMBER(10),
	STEP			NUMBER(10),
	DEPTH			NUMBER(10),
	PARENT			NUMBER(10),
	DEL				NUMBER(1),
	LIKE_COUNT 		NUMBER(10),
	REPORT_COUNT	NUMBER(10),
	WDATE			DATE
);

CREATE SEQUENCE VIDEO_COMMENT_SEQ
START WITH 1
INCREMENT BY 1;

--------------video_report---------------
DROP TABLE VIDEO_REPORT
CASCADE CONSTRAINTS;

DROP SEQUENCE VIDEO_REPORT_SEQ

CREATE TABLE VIDEO_REPORT(
	SEQ 		NUMBER(10) PRIMARY KEY,
	ID 			VARCHAR2(50) NOT NULL,
	CONTENT 	VARCHAR2(2000) NOT NULL,
	PARENT 		NUMBER(10) NOT NULL,
	CATEGORY	NUMBER(1) NOT NULL
);

CREATE SEQUENCE VIDEO_REPORT_SEQ
START WITH 1
INCREMENT BY 1;

----------------message_blacklist---------------

create table message_blacklist(
	my_id varchar2(50) not null,
	black_id varchar2(50) not null,
	bdate date not null
);

